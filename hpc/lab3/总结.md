# 总结

## 一、进程知识

进程(Process)是程序的一次运行，是操作系统进行资源分配的基本单位。Linux 系统支持多个进程同时运行，即 Linux 系统在各个进程之间调度，轮流使每个进程占用 CPU 一个时间片，由于每个时间片和宏观的时间相比很小，而各个进程可以频繁地得到时间片，于是就使用户看到了多个进程“同时”运行的情况。Linux 中可使用 top 实时查看，使用 ps 静态查看进程。进程有 5 种基本状态：创建、就绪、执行、阻塞、终止。

进程的基本控制函数：fork()、exec()、wait()等。

其中 fork()用于派生一个进程，调用 fork 时，系统将创建一个与当前进程相同的新的进程，它与原有的进程具有相同的数据、连接关系和在程序中同一处执行的连续性。通常将原有的进程称为父进程，新生成的称为子进程，子进程获得同父进程相同的数据，但是同父进程使用不同的数据段和堆栈段。而子进程与父进程的运行无关，故父进程先返回或子进程先返回均可能发生。

可以使用 exec 族的函数执行新的程序，以新的子进程来完全替代原有的进程。

Wait 调用专用于等待子进程。当调用 wait 时，父进程将被挂起，直至该进程的一个子进程结束时，该调用返回。

## 二、实验

单进程连续进行两次请求时（同时打开两个网页，分别请求一次）：

![single](pic/single.png)

等待时间为20s



多进程连续进行两次请求（其中父进程中的send_handle被跳过）：

![multi](pic/multi.png)

等待时间为10s

## 三、总结

单线程的server可能因多次请求而造成返回时间累积，而每次面对新的请求只需取消之前的请求处理进程即可解决这个问题，这中间可以用多进程的方法来实现。